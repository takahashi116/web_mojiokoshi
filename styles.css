/* Gemini Transcriber - styles.css */

:root {
  --color-bg: #0a0a0f;
  --color-bg-secondary: #12121a;
  --color-surface: rgba(255, 255, 255, 0.03);
  --color-border: rgba(255, 255, 255, 0.08);
  --color-text: #ffffff;
  --color-text-secondary: rgba(255, 255, 255, 0.6);
  --color-text-muted: rgba(255, 255, 255, 0.4);

  --color-primary: #10b981;
  --color-primary-glow: rgba(16, 185, 129, 0.35);
  --color-accent: #6366f1;
  --color-error: #ef4444;
  --color-success: #22c55e;
  --color-warning: #f59e0b;

  --gradient-primary: linear-gradient(135deg, #10b981, #059669);
  --gradient-accent: linear-gradient(135deg, #6366f1, #8b5cf6);

  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-blur: 20px;

  --spacing-xs: 0.5rem;
  --spacing-sm: 1rem;
  --spacing-md: 1.5rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;

  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 20px;

  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;

  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

  --safe-area-top: env(safe-area-inset-top);
  --safe-area-bottom: env(safe-area-inset-bottom);

  /* speaker colors (max 20) */
  --sp1:#3b82f6;  --sp2:#ef4444;  --sp3:#10b981;  --sp4:#f59e0b;  --sp5:#8b5cf6;
  --sp6:#06b6d4;  --sp7:#ec4899;  --sp8:#84cc16;  --sp9:#f97316;  --sp10:#22c55e;
  --sp11:#a855f7; --sp12:#14b8a6; --sp13:#eab308; --sp14:#fb7185; --sp15:#60a5fa;
  --sp16:#34d399; --sp17:#f472b6; --sp18:#c084fc; --sp19:#fdba74; --sp20:#93c5fd;
}

*,
*::before,
*::after { margin:0; padding:0; box-sizing:border-box; }

html { font-size:16px; }

body {
  font-family: var(--font-family);
  background: var(--color-bg);
  color: var(--color-text);
  min-height: 100vh;
  min-height: -webkit-fill-available;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  padding-top: var(--safe-area-top);
  padding-bottom: var(--safe-area-bottom);
}

body::before{
  content:'';
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:
    radial-gradient(ellipse at 20% 20%, rgba(16, 185, 129, 0.08) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 80%, rgba(99, 102, 241, 0.06) 0%, transparent 50%);
  pointer-events:none;
  z-index:-1;
}

.app-container{
  max-width: 760px;
  margin:0 auto;
  padding: var(--spacing-lg);
  min-height: 100vh;
  display:flex;
  flex-direction:column;
}

.header{
  text-align:center;
  margin-bottom: var(--spacing-xl);
}

.logo{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-xs);
}

.logo-icon{ font-size:2rem; }

.logo h1{
  font-size:1.75rem;
  font-weight:600;
  background: var(--gradient-primary);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}

.tagline{
  color: var(--color-text-secondary);
  font-size: 0.9rem;
  font-weight: 300;
}

.glass-card{
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.glass-card h2{
  font-size:0.9rem;
  font-weight:500;
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-sm);
}

.api-key-input-group{
  display:flex;
  gap: var(--spacing-xs);
  margin-bottom: var(--spacing-sm);
  flex-wrap: wrap;
}

.text-input{
  flex:1;
  min-width:150px;
  padding:0.75rem 1rem;
  background: var(--color-surface);
  border:1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text);
  font-size:16px;
  font-family:inherit;
  transition: border-color var(--transition-fast);
  -webkit-appearance:none;
}

.text-input:focus{ outline:none; border-color: var(--color-primary); }
.text-input::placeholder{ color: var(--color-text-muted); }

.select-input{
  width:100%;
  padding:0.7rem 0.9rem;
  background: var(--color-surface);
  border:1px solid var(--color-border);
  border-radius: var(--radius-md);
  color: var(--color-text);
  font-size:16px;
  -webkit-appearance:none;
}

.btn-icon{
  width:44px; height:44px;
  border:1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  color: var(--color-text);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: all var(--transition-fast);
  -webkit-tap-highlight-color: transparent;
  flex-shrink:0;
}

.btn-icon:hover{ background: rgba(255,255,255,0.1); border-color: var(--color-primary); }
.btn-icon:active{ transform: scale(0.95); }

.btn-save{
  padding:0 1rem;
  height:44px;
  border:none;
  border-radius: var(--radius-md);
  background: var(--gradient-primary);
  color:white;
  font-size:0.85rem;
  font-weight:500;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:0.25rem;
  transition: all var(--transition-fast);
  -webkit-tap-highlight-color: transparent;
  white-space: nowrap;
  flex-shrink:0;
}

.btn-save:hover{ transform: translateY(-1px); box-shadow: 0 4px 15px var(--color-primary-glow); }
.btn-save:active{ transform: scale(0.95); }
.btn-save.saved{ background: var(--color-success); }

.btn-secondary{
  padding:0.65rem 0.9rem;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  color: var(--color-text);
  cursor:pointer;
  transition: all var(--transition-fast);
  -webkit-tap-highlight-color: transparent;
}

.btn-secondary:hover{ border-color: var(--color-primary); background: rgba(255,255,255,0.07); }
.btn-secondary:disabled{ opacity:0.5; cursor:not-allowed; }

.api-key-file{
  display:flex;
  align-items:center;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

.file-label{
  font-size:0.85rem;
  color: var(--color-text-secondary);
  display:flex;
  align-items:center;
  gap: var(--spacing-xs);
  cursor:pointer;
}

.file-input{ display:none; }

.file-btn{
  padding:0.4rem 0.8rem;
  background: var(--color-surface);
  border:1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size:0.8rem;
  transition: all var(--transition-fast);
}

.file-btn:hover{ background: rgba(255,255,255,0.1); }

.status-badge{
  font-size:0.75rem;
  padding:0.25rem 0.5rem;
  border-radius: var(--radius-sm);
  background: rgba(255,255,255,0.06);
  color: var(--color-text-secondary);
}

.status-badge.success{ background: rgba(34,197,94,0.2); color: var(--color-success); }
.status-badge.error{ background: rgba(239,68,68,0.2); color: var(--color-error); }

.row-2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
}
.mini-label{
  display:block;
  font-size:0.75rem;
  color: var(--color-text-muted);
  margin-bottom: 0.35rem;
}
.row-item{ min-width: 0; }

.drive-row{
  display:flex;
  align-items:center;
  gap: var(--spacing-xs);
  flex-wrap: wrap;
  margin-bottom: var(--spacing-sm);
}

.dropzone{
  border:2px dashed var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--spacing-xl);
  text-align:center;
  transition: all var(--transition-normal);
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
}

.dropzone:hover,
.dropzone.dragover{
  border-color: var(--color-primary);
  background: rgba(16,185,129,0.05);
}

.dropzone-icon{
  font-size:3rem;
  display:block;
  margin-bottom: var(--spacing-sm);
}

.dropzone-content p{
  color: var(--color-text-secondary);
  margin: 0.25rem 0;
}

.dropzone-hint{
  font-size:0.8rem;
  color: var(--color-text-muted) !important;
}

.file-select-btn{
  display:inline-block;
  margin-top: var(--spacing-sm);
  padding:0.6rem 1.2rem;
  background: var(--gradient-accent);
  border-radius: var(--radius-md);
  color:white;
  font-size:0.9rem;
  font-weight:500;
  cursor:pointer;
  transition: all var(--transition-fast);
  -webkit-tap-highlight-color: transparent;
}

.file-select-btn:hover{ transform: translateY(-2px); box-shadow: 0 4px 15px rgba(99,102,241,0.4); }
.file-select-btn:active{ transform: scale(0.98); }

.file-list{ margin-top: var(--spacing-sm); }

.file-item{
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: var(--spacing-sm);
  background: var(--color-surface);
  border-radius: var(--radius-md);
  margin-bottom: var(--spacing-xs);
}

.file-item-info{
  display:flex;
  align-items:center;
  gap: var(--spacing-sm);
  overflow:hidden;
}

.file-item-icon{ font-size:1.5rem; flex-shrink:0; }

.file-item-name{
  font-size:0.9rem;
  font-weight:500;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.file-item-size{
  font-size:0.75rem;
  color: var(--color-text-muted);
}

.file-item-remove{
  background:none;
  border:none;
  color: var(--color-text-muted);
  cursor:pointer;
  font-size:1.2rem;
  padding:0.5rem;
  transition: color var(--transition-fast);
  -webkit-tap-highlight-color: transparent;
  flex-shrink:0;
}

.file-item-remove:hover{ color: var(--color-error); }

.action-section{
  text-align:center;
  padding: var(--spacing-md) 0;
}

.transcribe-button{
  display:inline-flex;
  align-items:center;
  gap: var(--spacing-sm);
  padding: 1rem 2.5rem;
  background: var(--gradient-primary);
  border:none;
  border-radius: var(--radius-lg);
  color:white;
  font-size:1.1rem;
  font-weight:600;
  cursor:pointer;
  transition: all var(--transition-normal);
  box-shadow: 0 4px 20px var(--color-primary-glow);
  -webkit-tap-highlight-color: transparent;
}

.transcribe-button:hover:not(:disabled){
  transform: translateY(-2px);
  box-shadow: 0 6px 30px var(--color-primary-glow);
}

.transcribe-button:active:not(:disabled){ transform: scale(0.98); }
.transcribe-button:disabled{ opacity:0.5; cursor:not-allowed; }
.transcribe-button .btn-icon-right{ font-size:1.2rem; }

.progress-bar{
  height:8px;
  background: var(--color-surface);
  border-radius: var(--radius-sm);
  overflow:hidden;
  margin-bottom: var(--spacing-sm);
}

.progress-fill{
  height:100%;
  width:0%;
  background: var(--gradient-primary);
  border-radius: var(--radius-sm);
  transition: width 0.3s ease;
}

.progress-text{
  font-size:0.85rem;
  color: var(--color-text-secondary);
  text-align:center;
}

.result-item{
  background: var(--color-surface);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-sm);
}

.result-header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  margin-bottom: var(--spacing-sm);
  padding-bottom: var(--spacing-sm);
  border-bottom: 1px solid var(--color-border);
  flex-wrap: wrap;
  gap: var(--spacing-xs);
}

.result-filename{
  font-weight:600;
  font-size:0.95rem;
  word-break: break-all;
}

.result-actions{
  display:flex;
  gap: var(--spacing-xs);
  flex-wrap: wrap;
}

.result-btn{
  padding:0.5rem 0.8rem;
  background: var(--color-surface);
  border:1px solid var(--color-border);
  border-radius: var(--radius-sm);
  color: var(--color-text);
  font-size:0.8rem;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:0.25rem;
  transition: all var(--transition-fast);
  -webkit-tap-highlight-color: transparent;
}

.result-btn:hover{ background: var(--color-primary); border-color: var(--color-primary); }
.result-btn:active{ transform: scale(0.95); }

.result-error{ 
  color: var(--color-error); 
  font-size:0.85rem; 
  white-space: pre-wrap;
  line-height: 1.6;
}

.result-tabs{
  display:flex;
  gap: var(--spacing-xs);
  margin-top: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
}

.tab-btn{
  padding:0.45rem 0.7rem;
  border:1px solid var(--color-border);
  border-radius: 999px;
  background: rgba(255,255,255,0.04);
  color: var(--color-text-secondary);
  font-size:0.8rem;
  cursor:pointer;
}

.tab-btn.active{
  border-color: rgba(16,185,129,0.55);
  color: rgba(255,255,255,0.9);
  background: rgba(16,185,129,0.12);
}

.chat-view{
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm);
  background: rgba(0,0,0,0.12);
  max-height: 450px;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

.no-result {
  color: var(--color-text-muted);
  text-align: center;
  padding: var(--spacing-md);
}

.msg{
  display:flex;
  gap: 10px;
  margin: 10px 0;
}

.msg .avatar{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 2px solid var(--color-border);
  background: rgba(255,255,255,0.04);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size: 0.72rem;
  color: rgba(255,255,255,0.88);
  flex: 0 0 44px;
  text-align:center;
  padding: 4px;
  line-height: 1.05;
}

.msg .bubble{
  border: 1px solid var(--color-border);
  background: rgba(255,255,255,0.03);
  border-radius: 14px;
  padding: 10px 12px;
  max-width: calc(100% - 44px - 10px);
  flex: 1;
}

.msg .meta{
  font-size: 0.75rem;
  color: rgba(255,255,255,0.75);
  font-weight: 700;
  margin-bottom: 6px;
}

.msg .text{
  color: var(--color-text-secondary);
  font-size: 0.92rem;
  line-height: 1.7;
  white-space: pre-wrap;
  word-break: break-word;
}

/* speaker color mapping: class "spk-1".."spk-20" */
.msg.spk-1  .avatar{ border-color: var(--sp1); background: color-mix(in srgb, var(--sp1) 15%, transparent); }
.msg.spk-1  .bubble{ border-color: color-mix(in srgb, var(--sp1) 40%, transparent); }
.msg.spk-2  .avatar{ border-color: var(--sp2); background: color-mix(in srgb, var(--sp2) 15%, transparent); }
.msg.spk-2  .bubble{ border-color: color-mix(in srgb, var(--sp2) 40%, transparent); }
.msg.spk-3  .avatar{ border-color: var(--sp3); background: color-mix(in srgb, var(--sp3) 15%, transparent); }
.msg.spk-3  .bubble{ border-color: color-mix(in srgb, var(--sp3) 40%, transparent); }
.msg.spk-4  .avatar{ border-color: var(--sp4); background: color-mix(in srgb, var(--sp4) 15%, transparent); }
.msg.spk-4  .bubble{ border-color: color-mix(in srgb, var(--sp4) 40%, transparent); }
.msg.spk-5  .avatar{ border-color: var(--sp5); background: color-mix(in srgb, var(--sp5) 15%, transparent); }
.msg.spk-5  .bubble{ border-color: color-mix(in srgb, var(--sp5) 40%, transparent); }
.msg.spk-6  .avatar{ border-color: var(--sp6); background: color-mix(in srgb, var(--sp6) 15%, transparent); }
.msg.spk-6  .bubble{ border-color: color-mix(in srgb, var(--sp6) 40%, transparent); }
.msg.spk-7  .avatar{ border-color: var(--sp7); background: color-mix(in srgb, var(--sp7) 15%, transparent); }
.msg.spk-7  .bubble{ border-color: color-mix(in srgb, var(--sp7) 40%, transparent); }
.msg.spk-8  .avatar{ border-color: var(--sp8); background: color-mix(in srgb, var(--sp8) 15%, transparent); }
.msg.spk-8  .bubble{ border-color: color-mix(in srgb, var(--sp8) 40%, transparent); }
.msg.spk-9  .avatar{ border-color: var(--sp9); background: color-mix(in srgb, var(--sp9) 15%, transparent); }
.msg.spk-9  .bubble{ border-color: color-mix(in srgb, var(--sp9) 40%, transparent); }
.msg.spk-10 .avatar{ border-color: var(--sp10); background: color-mix(in srgb, var(--sp10) 15%, transparent); }
.msg.spk-10 .bubble{ border-color: color-mix(in srgb, var(--sp10) 40%, transparent); }
.msg.spk-11 .avatar{ border-color: var(--sp11); background: color-mix(in srgb, var(--sp11) 15%, transparent); }
.msg.spk-11 .bubble{ border-color: color-mix(in srgb, var(--sp11) 40%, transparent); }
.msg.spk-12 .avatar{ border-color: var(--sp12); background: color-mix(in srgb, var(--sp12) 15%, transparent); }
.msg.spk-12 .bubble{ border-color: color-mix(in srgb, var(--sp12) 40%, transparent); }
.msg.spk-13 .avatar{ border-color: var(--sp13); background: color-mix(in srgb, var(--sp13) 15%, transparent); }
.msg.spk-13 .bubble{ border-color: color-mix(in srgb, var(--sp13) 40%, transparent); }
.msg.spk-14 .avatar{ border-color: var(--sp14); background: color-mix(in srgb, var(--sp14) 15%, transparent); }
.msg.spk-14 .bubble{ border-color: color-mix(in srgb, var(--sp14) 40%, transparent); }
.msg.spk-15 .avatar{ border-color: var(--sp15); background: color-mix(in srgb, var(--sp15) 15%, transparent); }
.msg.spk-15 .bubble{ border-color: color-mix(in srgb, var(--sp15) 40%, transparent); }
.msg.spk-16 .avatar{ border-color: var(--sp16); background: color-mix(in srgb, var(--sp16) 15%, transparent); }
.msg.spk-16 .bubble{ border-color: color-mix(in srgb, var(--sp16) 40%, transparent); }
.msg.spk-17 .avatar{ border-color: var(--sp17); background: color-mix(in srgb, var(--sp17) 15%, transparent); }
.msg.spk-17 .bubble{ border-color: color-mix(in srgb, var(--sp17) 40%, transparent); }
.msg.spk-18 .avatar{ border-color: var(--sp18); background: color-mix(in srgb, var(--sp18) 15%, transparent); }
.msg.spk-18 .bubble{ border-color: color-mix(in srgb, var(--sp18) 40%, transparent); }
.msg.spk-19 .avatar{ border-color: var(--sp19); background: color-mix(in srgb, var(--sp19) 15%, transparent); }
.msg.spk-19 .bubble{ border-color: color-mix(in srgb, var(--sp19) 40%, transparent); }
.msg.spk-20 .avatar{ border-color: var(--sp20); background: color-mix(in srgb, var(--sp20) 15%, transparent); }
.msg.spk-20 .bubble{ border-color: color-mix(in srgb, var(--sp20) 40%, transparent); }

.json-view{
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm);
  background: rgba(0,0,0,0.15);
  max-height: 450px;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  color: rgba(255,255,255,0.85);
  font-size: 0.82rem;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
  font-family: 'SF Mono', Consolas, monospace;
}

.hint-block{
  margin-top: var(--spacing-sm);
  padding: var(--spacing-sm);
  border: 1px solid rgba(245, 158, 11, 0.3);
  border-radius: var(--radius-md);
  background: rgba(245, 158, 11, 0.08);
}
.hint-title{ 
  font-size:0.8rem; 
  font-weight:700; 
  color: var(--color-warning); 
  margin-bottom: 0.3rem; 
}
.hint-text{ 
  font-size:0.78rem; 
  color: var(--color-text-secondary);
  line-height: 1.5;
}
.hint-text strong {
  color: var(--color-text);
}

.footer{
  margin-top:auto;
  text-align:center;
  padding-top: var(--spacing-lg);
  padding-bottom: var(--spacing-md);
}
.footer p{
  font-size:0.75rem;
  color: var(--color-text-muted);
}

.main-content{ flex:1; }

@media (max-width: 600px){
  .app-container{ padding: var(--spacing-md); }
  .dropzone{ padding: var(--spacing-lg); }
  .transcribe-button{ width:100%; justify-content:center; }
  .row-2{ grid-template-columns: 1fr; }
}
